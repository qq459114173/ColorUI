(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-extend-upload-upload"],{"0de9":function(t,e,a){"use strict";function i(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function n(){return"string"===typeof __channelId__&&__channelId__}function o(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];console[t].apply(console,a)}function r(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var o=e.shift();if(n())return e.push(e.pop().replace("at ","uni-app:///")),console[o].apply(console,e);var r=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t)+"---END:JSON---"}catch(n){t="[object object]"}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var a=i(t).toUpperCase();t="NUMBER"===a||"BOOLEAN"===a?"---BEGIN:"+a+"---"+t+"---END:"+a+"---":String(t)}return t})),s="";if(r.length>1){var u=r.pop();s=r.join("---COMMA---"),0===u.indexOf(" at ")?s+=u:s+="---COMMA---"+u}else s=r[0];console[o](s)}a.r(e),a.d(e,"log",(function(){return o})),a.d(e,"default",(function(){return r}))},"21f1":function(t,e,a){"use strict";a.r(e);var i=a("7738"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},3698:function(t,e,a){"use strict";a.r(e);var i=a("78121"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"54f8":function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return n}));a("a4d3"),a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");var i=a("dde1");function n(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(i["a"])(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,r=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}},"58f0":function(t,e,a){"use strict";a.r(e);var i=a("5aeb"),n=a("3698");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("6c86");var r,s=a("f0c5"),u=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"a6c5f57a",null,!1,i["a"],r);e["default"]=u.exports},"5aeb":function(t,e,a){"use strict";var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"tui-container"},[a("v-uni-view",{staticClass:"tui-upload-box"},[t._l(t.imageList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"tui-image-item"},[a("v-uni-image",{staticClass:"tui-item-img",attrs:{src:e,mode:"aspectFill"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.previewImage(i)}}}),t.forbidDel?t._e():a("v-uni-view",{staticClass:"tui-img-del",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.delImage(i)}}}),1!=t.statusArr[i]?a("v-uni-view",{staticClass:"tui-upload-mask"},[2==t.statusArr[i]?a("v-uni-view",{staticClass:"tui-upload-loading"}):t._e(),a("v-uni-text",{staticClass:"tui-tips"},[t._v(t._s(2==t.statusArr[i]?"上传中...":"上传失败"))]),3==t.statusArr[i]?a("v-uni-view",{staticClass:"tui-mask-btn",attrs:{"hover-class":"tui-btn-hover","hover-stay-time":150},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.reUpLoad(i)}}},[t._v("重新上传")]):t._e()],1):t._e()],1)})),t.isShowAdd?a("v-uni-view",{staticClass:"tui-upload-add",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseImage.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"tui-upload-icon tui-icon-plus"})],1):t._e()],2)],1)},o=[];a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}))},"6c86":function(t,e,a){"use strict";var i=a("a1ee"),n=a.n(i);n.a},7738:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{imageData:[],serverUrl:"https://api.thorui.cn/"}},methods:{result:function(e){t("log",e," at pages/extend/upload/upload.vue:25"),this.imageData=e.imgArr},remove:function(e){t("log",e," at pages/extend/upload/upload.vue:30");e.index}}};e.default=a}).call(this,a("0de9")["log"])},78121:function(t,e,a){"use strict";(function(t){var i=a("ee27");a("c975"),a("a434"),a("a9e3"),a("d3b7"),a("ac1f"),a("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("54f8")),o=i(a("d0ff")),r={name:"tuiUpload",props:{value:{type:Array,default:function(){return[]}},forbidDel:{type:Boolean,default:!1},forbidAdd:{type:Boolean,default:!1},serverUrl:{type:String,default:""},limit:{type:Number,default:9},fileKeyName:{type:String,default:"file"}},data:function(){return{imageList:[],statusArr:[]}},created:function(){this.imageList=(0,o.default)(this.value);var t,e=(0,n.default)(this.imageList);try{for(e.s();!(t=e.n()).done;){t.value;this.statusArr.push("1")}}catch(a){e.e(a)}finally{e.f()}},computed:{isShowAdd:function(){var t=!0;return(this.forbidAdd||this.limit&&this.imageList.length>=this.limit)&&(t=!1),t}},methods:{reUpLoad:function(t){var e=this;this.$set(this.statusArr,t,"2"),this.change(),this.uploadImage(t,this.imageList[t]).then((function(){e.change()})).catch((function(){e.change()}))},change:function(){var t=~this.statusArr.indexOf("2")?2:1;2!=t&&~this.statusArr.indexOf("3")&&(t=3),this.$emit("complete",{status:t,imgArr:this.imageList})},chooseImage:function(){var t=this;uni.chooseImage({count:t.limit-t.imageList.length,success:function(e){for(var a=[],i=0;i<e.tempFilePaths.length;i++){var n=t.imageList.length;if(n>=t.limit){uni.showToast({title:"最多可上传".concat(t.limit,"张图片"),icon:"none"});break}var o=e.tempFilePaths[i];a.push(o),t.imageList.push(o),t.statusArr.push("2")}t.change();for(var r=t.imageList.length-a.length,s=0;s<a.length;s++){var u=r+s;t.serverUrl?t.uploadImage(u,a[s]).then((function(){t.change()})).catch((function(){t.change()})):(t.$set(t.statusArr,u,"1"),t.change())}}})},uploadImage:function(e,a){var i=this,n=this;return new Promise((function(o,r){uni.uploadFile({url:i.serverUrl,name:i.fileKeyName,header:{},formData:{},filePath:a,success:function(a){if(t("log",a," at components/thorui/tui-upload/tui-upload.vue:156"),200==a.statusCode){var i=JSON.parse(a.data.replace(/\ufeff/g,"")||"{}");i.code%100===0?(i.url&&(n.imageList[e]=i.url),n.$set(n.statusArr,e,i.url?"1":"3")):n.$set(n.statusArr,e,"3"),o(e)}else n.$set(n.statusArr,e,"3"),r(e)},fail:function(t){n.$set(n.statusArr,e,"3"),r(e)}})}))},delImage:function(t){this.imageList.splice(t,1),this.statusArr.splice(t,1),this.$emit("remove",{index:t}),this.change()},previewImage:function(t){this.imageList.length&&uni.previewImage({current:this.imageList[t],loop:!0,urls:this.imageList})}}};e.default=r}).call(this,a("0de9")["log"])},"7efb":function(t,e,a){"use strict";a.r(e);var i=a("de8e"),n=a("21f1");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("a2c3b");var r,s=a("f0c5"),u=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"d8fdf3d0",null,!1,i["a"],r);e["default"]=u.exports},a1ee:function(t,e,a){var i=a("d5aa");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("433b0e24",i,!0,{sourceMap:!1,shadowMode:!1})},a2c3b:function(t,e,a){"use strict";var i=a("c84a"),n=a.n(i);n.a},b6802:function(t,e,a){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}a.d(e,"a",(function(){return i}))},c84a:function(t,e,a){var i=a("f264");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("e8bb15ca",i,!0,{sourceMap:!1,shadowMode:!1})},d0ff:function(t,e,a){"use strict";a.r(e);var i=a("b6802");function n(t){if(Array.isArray(t))return Object(i["a"])(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var r=a("dde1");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return n(t)||o(t)||Object(r["a"])(t)||s()}a.d(e,"default",(function(){return u}))},d5aa:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@font-face{font-family:tuiUpload;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAATcAA0AAAAAByQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAEwAAAABoAAAAciR52BUdERUYAAASgAAAAHgAAAB4AKQALT1MvMgAAAaAAAABCAAAAVjxvR/tjbWFwAAAB+AAAAEUAAAFK5ibpuGdhc3AAAASYAAAACAAAAAj//wADZ2x5ZgAAAkwAAADXAAABAAmNjcZoZWFkAAABMAAAAC8AAAA2FpiS+WhoZWEAAAFgAAAAHQAAACQH3QOFaG10eAAAAeQAAAARAAAAEgwAACBsb2NhAAACQAAAAAwAAAAMAEoAgG1heHAAAAGAAAAAHwAAACABEgA2bmFtZQAAAyQAAAFJAAACiCnmEVVwb3N0AAAEcAAAACgAAAA6OMUs4HjaY2BkYGAAYo3boY/i+W2+MnCzMIDAzb3qdQj6fwPzf+YGIJeDgQkkCgA/KAtvAHjaY2BkYGBu+N/AEMPCAALM/xkYGVABCwBZ4wNrAAAAeNpjYGRgYGBl0GJgZgABJiDmAkIGhv9gPgMADTABSQB42mNgZGFgnMDAysDA1Ml0hoGBoR9CM75mMGLkAIoysDIzYAUBaa4pDA7PGJ9xMjf8b2CIYW5gaAAKM4LkANt9C+UAAHjaY2GAABYIVmBgAAAA+gAtAAAAeNpjYGBgZoBgGQZGBhBwAfIYwXwWBg0gzQakGRmYnjE+4/z/n4EBQksxSf6GqgcCRjYGOIeRCUgwMaACRoZhDwCiLwmoAAAAAAAAAAAAAAAASgCAeNpdjkFKw0AARf/vkIR0BkPayWRKQZtYY90ohJju2kOIbtz0KD1HVm50UfEmWXoAr9ADOHFARHHzeY//Fx8Ci+FJfIgdJFa4AhgiMshbrCuIsLxhFJZVs+Vl1bT1GddtbXTC3OhohN4dg4BJ3zMJAnccyfm468ZzHXddrH9ZKbHzdf9n/vkY/xv9sPQXgGEvBrHHwst5kTbXLE+YpYVPkxepPmW94W16UbdNJd6f3SAzo5W7m1jaKd+8ZZIvk5nlKw9SK6Wle7BLS3f/bTzQLmfAF2T1NsQAeNp9kD1OAzEQhZ/zByQSQiCoXVEA2vyUKRMp9Ailo0g23pBo1155nUg5AS0VB6DlGByAGyDRcgpelkmTImvt6PObmeexAZzjGwr/3yXuhBWO8ShcwREy4Sr1F+Ea+V24jhY+hRvUf4SbuFUD4RYu1BsdVO2Eu5vSbcsKZxgIV3CKJ+Eq9ZVwjfwqXMcVPoQb1L+EmxjjV7iFa2WpDOFhMEFgnEFjig3jAjEcLJIyBtahOfRmEsxMTzd6ETubOBso71dilwMeaDnngCntPbdmvkon/mDLgdSYbh4FS7YpjS4idCgbXyyc1d2oc7D9nu22tNi/a4E1x+xRDWzU/D3bM9JIbAyvkJI18jK3pBJTj2hrrPG7ZynW814IiU68y/SIx5o0dTr3bmniwOLn8owcfbS5kj33qBw+Y1kIeb/dTsQgil2GP5PYcRkAAAB42mNgYoAALjDJyIAOWMGiTIxMjMxsKak5qSWpbFmZiRmJ+QAmgAUIAAAAAf//AAIAAQAAAAwAAAAWAAAAAgABAAMABAABAAQAAAACAAAAAHjaY2BgYGQAgqtL1DlA9M296nUwGgA+8QYgAAA=) format("woff");font-weight:400;font-style:normal}.tui-upload-icon[data-v-a6c5f57a]{font-family:tuiUpload!important;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:%?10?%}.tui-icon-delete[data-v-a6c5f57a]:before{content:"\\e601"}.tui-icon-plus[data-v-a6c5f57a]:before{content:"\\e609"}.tui-upload-box[data-v-a6c5f57a]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.tui-upload-add[data-v-a6c5f57a]{width:%?220?%;height:%?220?%;font-size:%?68?%;font-weight:100;color:#888;background-color:#f7f7f7;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:0}.tui-image-item[data-v-a6c5f57a]{width:%?220?%;height:%?220?%;position:relative;margin-right:%?20?%;margin-bottom:%?20?%}.tui-image-item[data-v-a6c5f57a]:nth-of-type(3n){margin-right:0}.tui-item-img[data-v-a6c5f57a]{width:%?220?%;height:%?220?%;display:block}.tui-img-del[data-v-a6c5f57a]{width:%?36?%;height:%?36?%;position:absolute;right:%?-12?%;top:%?-12?%;background-color:#eb0909;border-radius:50%;color:#fff;font-size:%?34?%;z-index:999}.tui-img-del[data-v-a6c5f57a]::before{content:"";width:%?16?%;height:1px;position:absolute;left:%?10?%;top:%?18?%;background-color:#fff}.tui-upload-mask[data-v-a6c5f57a]{width:100%;height:100%;position:absolute;left:0;top:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around;padding:%?40?% 0;box-sizing:border-box;background-color:rgba(0,0,0,.6)}.tui-upload-loading[data-v-a6c5f57a]{width:%?28?%;height:%?28?%;border-radius:50%;border:2px solid;border-color:#b2b2b2 #b2b2b2 #b2b2b2 #fff;-webkit-animation:tui-rotate-data-v-a6c5f57a .7s linear infinite;animation:tui-rotate-data-v-a6c5f57a .7s linear infinite}@-webkit-keyframes tui-rotate-data-v-a6c5f57a{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes tui-rotate-data-v-a6c5f57a{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.tui-tips[data-v-a6c5f57a]{font-size:%?26?%;color:#fff}.tui-mask-btn[data-v-a6c5f57a]{padding:%?4?% %?16?%;border-radius:%?40?%;text-align:center;font-size:%?24?%;color:#fff;border:%?1?% solid #fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.tui-btn-hover[data-v-a6c5f57a]{opacity:.8}',""]),t.exports=e},dde1:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("a630"),a("fb6a"),a("d3b7"),a("25f0"),a("3ca3");var i=a("b6802");function n(t,e){if(t){if("string"===typeof t)return Object(i["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(i["a"])(t,e):void 0}}},de8e:function(t,e,a){"use strict";var i={tuiUpload:a("58f0").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"title"},[t._v("upload")]),a("v-uni-view",{staticClass:"sub-title"},[t._v("图片上传，需要根据上传接口实际返回数据进行调整")])],1),a("v-uni-view",{staticClass:"tui-box-upload"},[a("tui-upload",{attrs:{serverUrl:t.serverUrl},on:{complete:function(e){arguments[0]=e=t.$handleEvent(e),t.result.apply(void 0,arguments)},remove:function(e){arguments[0]=e=t.$handleEvent(e),t.remove.apply(void 0,arguments)}}})],1)],1)},o=[];a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}))},f264:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-d8fdf3d0]{background-color:#fff}.container[data-v-d8fdf3d0]{padding:%?20?% 0 %?120?% 0;box-sizing:border-box}.header[data-v-d8fdf3d0]{padding:%?80?% %?90?% %?60?% %?90?%;box-sizing:border-box}.title[data-v-d8fdf3d0]{font-size:%?34?%;color:#333;font-weight:500}.sub-title[data-v-d8fdf3d0]{font-size:%?24?%;color:#7a7a7a;padding-top:%?18?%}.tui-box-upload[data-v-d8fdf3d0]{padding-left:%?25?%;box-sizing:border-box}body.?%PAGE?%[data-v-d8fdf3d0]{background-color:#fff}",""]),t.exports=e}}]);