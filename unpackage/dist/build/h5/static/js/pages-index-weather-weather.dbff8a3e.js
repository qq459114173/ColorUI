(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-weather-weather"],{"0de9":function(t,e,a){"use strict";function o(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function i(){return"string"===typeof __channelId__&&__channelId__}function s(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),o=1;o<e;o++)a[o-1]=arguments[o];console[t].apply(console,a)}function n(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var s=e.shift();if(i())return e.push(e.pop().replace("at ","uni-app:///")),console[s].apply(console,e);var n=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t)+"---END:JSON---"}catch(i){t="[object object]"}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var a=o(t).toUpperCase();t="NUMBER"===a||"BOOLEAN"===a?"---BEGIN:"+a+"---"+t+"---END:"+a+"---":String(t)}return t})),r="";if(n.length>1){var c=n.pop();r=n.join("---COMMA---"),0===c.indexOf(" at ")?r+=c:r+="---COMMA---"+c}else r=n[0];console[s](r)}a.r(e),a.d(e,"log",(function(){return s})),a.d(e,"default",(function(){return n}))},"296e":function(t,e,a){"use strict";a.r(e);var o=a("69b1"),i=a.n(o);for(var s in o)"default"!==s&&function(t){a.d(e,t,(function(){return o[t]}))}(s);e["default"]=i.a},"2be7":function(t,e,a){"use strict";a.r(e);var o=a("7fca"),i=a("296e");for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);a("3866");var n,r=a("f0c5"),c=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"6bea693e",null,!1,o["a"],n);e["default"]=c.exports},3866:function(t,e,a){"use strict";var o=a("4e2e"),i=a.n(o);i.a},"4e2e":function(t,e,a){var o=a("99fb");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("4f06").default;i("81481798",o,!0,{sourceMap:!1,shadowMode:!1})},"560f":function(t,e,a){function o(t){this.key=t.key,this.requestConfig={key:t.key,s:"rsx",platform:"WXJS",appname:t.key,sdkversion:"1.2.0",logversion:"2.0"}}a("a15b"),a("acd8"),a("ac1f"),a("1276"),o.prototype.getWxLocation=function(t,e){wx.getLocation({type:"gcj02",success:function(t){var a=t.longitude+","+t.latitude;wx.setStorage({key:"userLocation",data:a}),e(a)},fail:function(a){wx.getStorage({key:"userLocation",success:function(t){t.data&&e(t.data)}}),t.fail({errCode:"0",errMsg:a.errMsg||""})}})},o.prototype.getRegeo=function(t){function e(e){var o=a.requestConfig;wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:a.key,location:e,extensions:"all",s:o.s,platform:o.platform,appname:a.key,sdkversion:o.sdkversion,logversion:o.logversion},method:"GET",header:{"content-type":"application/json"},success:function(a){var o,i,s,n,r,c,d,u,p;a.data.status&&"1"==a.data.status?(o=a.data.regeocode,i=o.addressComponent,s=[],n="",o&&o.roads[0]&&o.roads[0].name&&(n=o.roads[0].name+"附近"),r=e.split(",")[0],c=e.split(",")[1],o.pois&&o.pois[0]&&(n=o.pois[0].name+"附近",d=o.pois[0].location,d&&(r=parseFloat(d.split(",")[0]),c=parseFloat(d.split(",")[1]))),i.provice&&s.push(i.provice),i.city&&s.push(i.city),i.district&&s.push(i.district),i.streetNumber&&i.streetNumber.street&&i.streetNumber.number?(s.push(i.streetNumber.street),s.push(i.streetNumber.number)):(u="",o&&o.roads[0]&&o.roads[0].name&&(u=o.roads[0].name),s.push(u)),s=s.join(""),p=[{iconPath:t.iconPath,width:t.iconWidth,height:t.iconHeight,name:s,desc:n,longitude:r,latitude:c,id:0,regeocodeData:o}],t.success(p)):t.fail({errCode:a.data.infocode,errMsg:a.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}var a=this;t.location?e(t.location):a.getWxLocation(t,(function(t){e(t)}))},o.prototype.getWeather=function(t){function e(e){var a="base";t.type&&"forecast"==t.type&&(a="all"),wx.request({url:"https://restapi.amap.com/v3/weather/weatherInfo",data:{key:o.key,city:e,extensions:a,s:i.s,platform:i.platform,appname:o.key,sdkversion:i.sdkversion,logversion:i.logversion},method:"GET",header:{"content-type":"application/json"},success:function(e){function a(t){var e={city:{text:"城市",data:t.city},weather:{text:"天气",data:t.weather},temperature:{text:"温度",data:t.temperature},winddirection:{text:"风向",data:t.winddirection+"风"},windpower:{text:"风力",data:t.windpower+"级"},humidity:{text:"湿度",data:t.humidity+"%"}};return e}var o,i;e.data.status&&"1"==e.data.status?e.data.lives?(o=e.data.lives,o&&o.length>0&&(o=o[0],i=a(o),i["liveData"]=o,t.success(i))):e.data.forecasts&&e.data.forecasts[0]&&t.success({forecast:e.data.forecasts[0]}):t.fail({errCode:e.data.infocode,errMsg:e.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}function a(a){wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:o.key,location:a,extensions:"all",s:i.s,platform:i.platform,appname:o.key,sdkversion:i.sdkversion,logversion:i.logversion},method:"GET",header:{"content-type":"application/json"},success:function(a){var o,i;a.data.status&&"1"==a.data.status?(i=a.data.regeocode,i.addressComponent?o=i.addressComponent.adcode:i.aois&&i.aois.length>0&&(o=i.aois[0].adcode),e(o)):t.fail({errCode:a.data.infocode,errMsg:a.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}var o=this,i=o.requestConfig;t.city?e(t.city):o.getWxLocation(t,(function(t){a(t)}))},o.prototype.getPoiAround=function(t){function e(e){var i={key:a.key,location:e,s:o.s,platform:o.platform,appname:a.key,sdkversion:o.sdkversion,logversion:o.logversion};t.querytypes&&(i["types"]=t.querytypes),t.querykeywords&&(i["keywords"]=t.querykeywords),wx.request({url:"https://restapi.amap.com/v3/place/around",data:i,method:"GET",header:{"content-type":"application/json"},success:function(e){var a,o,i,s;if(e.data.status&&"1"==e.data.status){if(e=e.data,e&&e.pois){for(a=[],o=0;o<e.pois.length;o++)i=0==o?t.iconPathSelected:t.iconPath,a.push({latitude:parseFloat(e.pois[o].location.split(",")[1]),longitude:parseFloat(e.pois[o].location.split(",")[0]),iconPath:i,width:22,height:32,id:o,name:e.pois[o].name,address:e.pois[o].address});s={markers:a,poisData:e.pois},t.success(s)}}else t.fail({errCode:e.data.infocode,errMsg:e.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}var a=this,o=a.requestConfig;t.location?e(t.location):a.getWxLocation(t,(function(t){e(t)}))},o.prototype.getStaticmap=function(t){function e(e){i.push("location="+e),t.zoom&&i.push("zoom="+t.zoom),t.size&&i.push("size="+t.size),t.scale&&i.push("scale="+t.scale),t.markers&&i.push("markers="+t.markers),t.labels&&i.push("labels="+t.labels),t.paths&&i.push("paths="+t.paths),t.traffic&&i.push("traffic="+t.traffic);var a=s+i.join("&");t.success({url:a})}var a,o=this,i=[],s="https://restapi.amap.com/v3/staticmap?";i.push("key="+o.key),a=o.requestConfig,i.push("s="+a.s),i.push("platform="+a.platform),i.push("appname="+a.appname),i.push("sdkversion="+a.sdkversion),i.push("logversion="+a.logversion),t.location?e(t.location):o.getWxLocation(t,(function(t){e(t)}))},o.prototype.getInputtips=function(t){var e=this,a=e.requestConfig,o={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.location&&(o["location"]=t.location),t.keywords&&(o["keywords"]=t.keywords),t.type&&(o["type"]=t.type),t.city&&(o["city"]=t.city),t.citylimit&&(o["citylimit"]=t.citylimit),wx.request({url:"https://restapi.amap.com/v3/assistant/inputtips",data:o,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.tips&&t.success({tips:e.data.tips})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},o.prototype.getDrivingRoute=function(t){var e=this,a=e.requestConfig,o={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.origin&&(o["origin"]=t.origin),t.destination&&(o["destination"]=t.destination),t.strategy&&(o["strategy"]=t.strategy),t.waypoints&&(o["waypoints"]=t.waypoints),t.avoidpolygons&&(o["avoidpolygons"]=t.avoidpolygons),t.avoidroad&&(o["avoidroad"]=t.avoidroad),wx.request({url:"https://restapi.amap.com/v3/direction/driving",data:o,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.route&&t.success({paths:e.data.route.paths,taxi_cost:e.data.route.taxi_cost||""})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},o.prototype.getWalkingRoute=function(t){var e=this,a=e.requestConfig,o={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.origin&&(o["origin"]=t.origin),t.destination&&(o["destination"]=t.destination),wx.request({url:"https://restapi.amap.com/v3/direction/walking",data:o,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.route&&t.success({paths:e.data.route.paths})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},o.prototype.getTransitRoute=function(t){var e=this,a=e.requestConfig,o={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.origin&&(o["origin"]=t.origin),t.destination&&(o["destination"]=t.destination),t.strategy&&(o["strategy"]=t.strategy),t.city&&(o["city"]=t.city),t.cityd&&(o["cityd"]=t.cityd),wx.request({url:"https://restapi.amap.com/v3/direction/transit/integrated",data:o,method:"GET",header:{"content-type":"application/json"},success:function(e){if(e&&e.data&&e.data.route){var a=e.data.route;t.success({distance:a.distance||"",taxi_cost:a.taxi_cost||"",transits:a.transits})}},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},o.prototype.getRidingRoute=function(t){var e=this,a=e.requestConfig,o={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.origin&&(o["origin"]=t.origin),t.destination&&(o["destination"]=t.destination),wx.request({url:"https://restapi.amap.com/v4/direction/bicycling",data:o,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.data&&t.success({paths:e.data.data.paths})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},t.exports.AMapWX=o},"69b1":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a("560f"),i={data:function(){return{amapPlugin:null,key:"6799b5f6f88d3d9fb52ac244855a8759",obj:{liveData:{}}}},onLoad:function(){this.amapPlugin=new o.AMapWX({key:this.key}),this.getWeather()},methods:{getWeather:function(){var e=this;uni.showLoading({title:"请稍候..."}),this.amapPlugin.getWeather({success:function(t){uni.hideLoading(),e.obj=t},fail:function(e){t("log",e," at pages/index/weather/weather.vue:49")}})},back:function(){uni.navigateBack()}}};e.default=i}).call(this,a("0de9")["log"])},"7fca":function(t,e,a){"use strict";var o,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"list-item"},[t._v("省份："+t._s(t.obj.liveData.province||""))]),a("v-uni-view",{staticClass:"list-item"},[t._v("位置："+t._s(t.obj.liveData.city||""))]),a("v-uni-view",{staticClass:"list-item"},[t._v("湿度："+t._s(t.obj.liveData.humidity||0)+"%")]),a("v-uni-view",{staticClass:"list-item"},[t._v("温度："+t._s(t.obj.liveData.temperature||0)+" 摄氏度")]),a("v-uni-view",{staticClass:"list-item"},[t._v("天气："+t._s(t.obj.liveData.weather||""))]),a("v-uni-view",{staticClass:"list-item"},[t._v("风向："+t._s(t.obj.liveData.winddirection||""))]),a("v-uni-view",{staticClass:"list-item"},[t._v("风力："+t._s(t.obj.liveData.windpower||0)+"级")]),a("v-uni-view",{staticClass:"btn-box"},[a("v-uni-button",{staticClass:"tui-button-primary",attrs:{"hover-class":"tui-button-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[t._v("返回")])],1)],1)},s=[];a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return o}))},"99fb":function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,".list-item[data-v-6bea693e]{background:#fff;padding:%?30?%}.btn-box[data-v-6bea693e]{padding:%?80?% %?32?% %?30?% %?32?%}",""]),t.exports=e}}]);